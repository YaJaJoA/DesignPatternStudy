# Flyweight

> 비슷한 객체를 대량으로 만들어야 할 때, 메모리를 절약할 수 있게 해주는 패턴
> 

### 의도

공유(sharing)를 통해 많은 수의 소립 객체들을 효과적으로 지원

→ 각 객체에서 데이터를 다루는 대신 객체들의 공통되는 상태를 공유하여 RAM을 확보하는 디자인 패턴

### 활용성

언제 사용하는지에 따라 그 효과가 많이 달라진다.

다음의 경우에 사용 가능하다.

- 응용 프로그램이 대량의 객체를 사용해야 할 때
- 객체의 수가 많아 저장 비용이 높을 때
- 대부분의 객체 상태를 부가적인 것으로 만들 수 있을 때
- 응용프로그램이 객체의 정체성에 의존하지 않을 때.
식발져가 있다는 것은 서로 다른 객체로 구별해야 한다는 의미이므로 플라이급 객체를 사용할 수 없다.

### 구조

- Flyweight: Flyweight가 받아 들일 수 있고, 부가적 상태에서 동작해야 하는 인터페이스를 선언한다.
- ConcreteFlyweight: Flyweight 인터페이스를 구현하고 내부적으로 갖고 있어야 하는 본질적 상태에 대한 저장소 정의. `ConcreteFlyweight` 객체는 공유할 수 있는 것이어야 한다. 그러므로 관리하는 어떤 상태라도 본질적인 것이어야 한다.
- UnsharedConcreteFlyweight: 모든 플라이급 서브클래스들이 공유될 필요는 없다. Flyweight 인터페이스는 공유를 가능하게 하지만, 그것을 강요해서는 안된다. `UnsharedConcreteFlyweight` 객체가 `ConcreteFlyweight` 객체를 자신의 자식으로 갖는 것은 흔한 일이다.
- FlyweightFactory: 플라이급 객체를 생성하고 관리하며, 플라이급 객체가 제대로 공유되도록 보장한다.
