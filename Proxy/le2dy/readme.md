# Proxy
## 개요
다른 개체에 접근을 제어하기 위한 surrogate 또는 placeholder를 제공한다.
<br>
<br>

## 동기
객체에 대한 접근을 제어하는 이유는 실제로 객체를 사용할 때까지 객체의 생성 및 초기화에 필요한 비용을 연기하기 위함이다.<br>
예를 들자면, 용량이 큰 이미지 여러 장이 여러 페이지 걸쳐 있는 문서가 있다. 이 문서를 열 때 모든 이미지를 문서를 여는 시점에 모두 불러오게 되면 문서를 여는 속도가 느려진다.<br> 때문에 한 번에 모든 이미지를 불러오는게 아닌 필요한 이미지, 즉 현재 보여지고 있는 페이지에 있는 이미지만 load하는 방식으로 문서를 여는 데 필요한 비용과 시간을 줄일 수 있다.
<br>

이러한 요구에 따라 개체의 생성 및 사용을 관리할 수 있게 해주는 것이 Proxy이다.
<br>
<br>

## 사용처
1. 원격 프록시는 다른 주소 공간에 있는 개체에 대한 로컬 대표를 제공함
2. 가상 프록시는 필요에 의해 값비싼 개체를 생성함.
3. 보호 프록시는 원본 개체에 접근을 제어함. 개체가 각각 다른 접근 정책이 있을 때 유용함.
4. 스마트 레퍼런스는 객체에 접근할 때 추가 작업을 수행하는 기본 포인터를 대체함.
    * 더 이상 참조가 없을 떄 자동으로 해제될 수 있도록 실제 개체에 대한 참조 수 계산.
    * 영구 개체가 처음 참조될 때 메모리로 불러옴.
    다른 개체가 변경할 수 없도록 실제 개체에 액세스하기 전에 해당 개체가 잠겨있는지 확인
<br>
<br>

## 구성
* Proxy
    * 실제 주제에 proxy가 참조할 수 있도록 관리.
    * 프록시가 실제 subject를 대체할 수 있도록 subject와 동일한 인터페이스 제공.
    * 실제 subject의 접근 제어와 생성 및 삭제에 대한 책임이 있을 수 있음.
    * 다른 책임은 proxy 종류에 따라 다름
        * 원격 프록시는 요청과 argument의 부호화, 다른 주소 공간에 있는 실제 subject에 부호화된 요청을 전송할 책임이 있음.
        * 가상 프록시는 실제 subject에 대한 추가 정보를 캐싱해 접근을 연기함.
        * 보호 프록시는 호출자가 요청에 대한 접근 권한이 있는지 확인.
* Subject
    * Realsubject와 Proxt에 대한 공통 인터페이스를 정의해 RealSubject가 예상되는 모든 곳에 Proxy를 사용할 수 있음.
* RealSubject
    * proxy가 표현하는 실제 개체를 정의함.
<br>
<br>

## 장단점
<br>
<br>

## 관련 패턴
* Adapter
* Decorator